<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <link rel="icon" href="favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Pathtracker Online</title>
    <link rel="stylesheet" href="index.css">
</head>

<body>
    <div style="overflow: auto">
        <div class="stageholder">
            <canvas id="Stage" width="1000" height="1000"></canvas>
            <p class="small" id="mouse_coordinate"></p>
            <div class="exportmanager">
                <p class="option_text"><b>Coordinate output</b></p>
                <label class="option_text">Things to output: </label>
                <select id="output_option" class="option_list" style="display:inline-block">
                    <option value="ctlpoint">Control points</option>
                    <option value="full">Full path</option>
                </select>
                <br />
                <label class="option_text">Format: </label>
                <input type="text" id="output_prefix" class="option_input_middle" style="text-align:right"
                    value="(">
                <p style="display:inline-block">x</p>
                <input type="text" id="output_midfix" class="option_input_short" value=", ">
                <p style="display:inline-block">y</p>
                <input type="text" id="output_suffix" class="option_input_middle" value=")">
                <br />
                <textarea rows="5" cols="88" id="output_textarea">
                </textarea>
            </div>

        </div>
        <div class="controls_tab">
            <div class="tabpadding">
                <div class="tabcontent">
                    <p><b>Controls</b></p>
                    <label class="option_text">Load session: </label>
                    <input type="file" id="sess_input" accept="application/JSON" class="file_input">
                    <br />
                    <p class="option_text"><b>Path generation</b></p>
                    <label class="option_text">Point density: </label>
                    <input type="range" min="5" max="30" id="point_density_input" value=20 />
                    <br />
                    <br />
                    <button class="option_input" id="simulate_btn" style="width:auto">Simulate</button>
                </div>
            </div>
        </div>
        <div class="settings_tab">
            <div class="tabpadding">
                <div class="tabcontent">
                    <p><b>Settings</b></p>

                    <p class="option_text"><b>Field related</b></p>
                    <label class="option_text">Field width (meters): </label>
                    <input type="text" id="field_width" name="field_width" class="option_input" value=4>
                    <br />

                    <label class="option_text">Field origin (meters): </label>
                    <p style="display:inline-block">x = </p>
                    <input type="text" id="x_origin_input" class="option_input_short" value=0>
                    <p style="display:inline-block">y = </p>
                    <input type="text" id="y_origin_input" class="option_input_short" value=0>
                    <input type="checkbox" id="y_inverse_input" class="option_input_checkbox">
                    <p style="display:inline-block">inverse y</p>
                    <br />

                    <label class="option_text">Background image: </label>
                    <input type="file" id="img_input" name="img_input" accept="image/*" class="file_input">
                    <button class="option_input" id="clear_img" style="width:auto">clear image</button>
                    <br />

                    <p class="option_text"><b>Color settings</b></p>
                    <label class="option_text">Path start color: </label>
                    <input type="color" id="start_color_input" value="#03fce8" />
                    <br />

                    <label class="option_text">Path end color: </label>
                    <input type="color" id="end_color_input" value="#4103fc" />
                    <br />

                    <label class="option_text">Control point color: </label>
                    <input type="color" id="ctlpoint_color_input" value="#000000" />
                    <br />

                    <label class="option_text">Open control point color: </label>
                    <input type="color" id="ctlpoint_open_color_input" value="#ff6161" />
                    <br />

                    <label class="option_text">Robot color: </label>
                    <input type="color" id="robot_color_input" value="#DDDD00" />


                    <p class="option_text"><b>Robot settings</b></p>
                    <label class="option_text">track width (meters): </label>
                    <input type="text" id="robot_width_input" class="option_input" value=0.5>
                    <br />

                    <label class="option_text">robot length (meters): </label>
                    <input type="text" id="robot_length_input" class="option_input" value=0.5>
                    <br />

                    <label class="option_text">Max velocity (m/s): </label>
                    <input type="text" id="max_velocity_input" class="option_input" value=4>
                    <br />

                    <label class="option_text">Max acceleration (m/s^2): </label>
                    <input type="text" id="max_accel_input" class="option_input" value=10>
                    <br />
                    <br />

                    <i>Note: the following constants needs to be tuned on the actual robot,
                        don't directly copy the values to the robot code.</i>
                    <br />
                    <br />

                    <label class="option_text">translational P gain: </label>
                    <input type="text" id="kPT_input" class="option_input" value=300>
                    <br />

                    <label class="option_text">translational I gain: </label>
                    <input type="text" id="kIT_input" class="option_input" value=0>
                    <br />

                    <label class="option_text">translational D gain: </label>
                    <input type="text" id="kDT_input" class="option_input" value=0>
                    <br />

                    <label class="option_text">rotational P gain: </label>
                    <input type="text" id="kPR_input" class="option_input" value=300>
                    <br />

                    <label class="option_text">rotational I gain: </label>
                    <input type="text" id="kIR_input" class="option_input" value=0>
                    <br />

                    <label class="option_text">rotational D gain: </label>
                    <input type="text" id="kDR_input" class="option_input" value=0>
                    <br />

                    <p class="option_text"><b>Pure pursuit (PID based)</b></p>
                    <label class="option_text">look ahead radius (meters): </label>
                    <input type="text" id="lookahead_radius_input" class="option_input" value=0.5>
                    <br />

                </div>
            </div>
        </div>
    </div>


    <script src="js/utils.js"></script>
    <script src="js/ui_element.js"></script>
    <script src="js/drawable_object.js"></script>
    <script src="js/algorithms/pure_pursuit.js"></script>
    <script src="js/objects/path.js"></script>
    <script src="js/objects/point.js"></script>
    <script src="js/objects/box.js"></script>
    <script src="js/objects/robot.js"></script>
    <script src="js/canvas_objects.js"></script>
    <script src="js/session.js"></script>
    <script src="js/events.js"></script>
    <script src="js/main.js"></script>
</body>

</html>